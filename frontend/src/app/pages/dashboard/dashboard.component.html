<div class="header bg-gradient-success pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Card stats -->
      <div class="row">
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Cantidad de Campos</h5>
                  <span class="h2 font-weight-bold mb-0">{{farm_card}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                    <i class="fas fa-chart-bar"></i>
                  </div>
                </div>
              </div>
              <!--<p class="mt-3 mb-0 text-muted text-sm">
                <span class="text-success mr-2"><i class="fa fa-arrow-up"></i> 3.48%</span>
                <span class="text-nowrap">Desde el Mes Pasado</span>
              </p>-->
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Cantidad de Cuarteles</h5>
                  <span class="h2 font-weight-bold mb-0">{{quarter_card}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
                    <i class="fas fa-chart-pie"></i>
                  </div>
                </div>
              </div>
             <!-- <p class="mt-3 mb-0 text-muted text-sm">
                <span class="text-danger mr-2"><i class="fas fa-arrow-down"></i> 3.48%</span>
                <span class="text-nowrap">Desde el Mes Pasado</span>
              </p>-->
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">DÃ­a de Conteo Actual</h5>
                  <span class="h2 font-weight-bold mb-0">5</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-yellow text-white rounded-circle shadow">
                    <i class="fas fa-chart-pie"></i>
                  </div>
                </div>
              </div>
             <!-- <p class="mt-3 mb-0 text-muted text-sm">
                <span class="text-warning mr-2"><i class="fas fa-arrow-down"></i> 1.10%</span>
                <span class="text-nowrap">Desde el mes pasada</span>
              </p>-->
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Cantidad de empleados</h5>
                  <span class="h2 font-weight-bold mb-0">{{employee_card}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                    <i class="fas fa-users"></i>
                  </div>
                </div>
              </div>
              <!--<p class="mt-3 mb-0 text-muted text-sm">
                <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                <span class="text-nowrap">Desde el Mes Pasado</span>
              </p>-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid mt--7">
  <div class="pb-3">
  <div class="card shadow" >
      
      <div class="row pl-4 pr-4 pt-2 ">
          <div class="col-xl-4 pl-1 pr-1">               
            <div class="form-group">
              <label style="font-weight: bold">Campo</label>
                <select [(ngModel)]="seleccionado" class="form-control" data-toggle="select" title="Simple select" data-placeholder="Select a state">
                  <option disabled >Seleccione Campo</option>  
                  <option [value]='farm.id' selected *ngFor='let farm of farms'>{{farm.name}}</option>
                </select>
              </div>
          </div> 

          <div class="col-xl-3 pl-1 pr-1">               
            <div class="form-group">
              <label style="font-weight: bold">Cuartel</label>
                <select [(ngModel)]="seleccionadoQuarter" class="form-control"  data-toggle="select" title="Simple select" data-placeholder="Select a state">
                  <option disabled >Seleccione Cuartel</option>  
                  <option [value]='quarter.id' *ngFor='let quarter of quarters' >{{quarter.name}}</option>
                </select>
              </div>
          </div> 

          <div class="col-xl-3 pl-1 pr-1">               
            <div class="form-group">
              <label style="font-weight: bold">Temporada</label>
                <select [(ngModel)]="seleccionadoSeasons" class="form-control"  data-toggle="select" title="Simple select" data-placeholder="Select a state">
                  <option disabled >Seleccione Temporada</option>  
                  <option [value]='season.id' *ngFor='let season of seasons' >{{season.name}}</option>
                </select>
              </div>
          </div> 
  

          <div class="col-xl-2 pl-1 pr-1 pt-4">    
              <button class="btn btn-icon btn-3 btn-info btn-lg btn-block" type="button" (click)="updateData()">
                  <span class="btn-inner--icon"><i class="ni ni-send"></i></span>
                    <span class="btn-inner--text">Actualizar</span>
                </button>     
          </div>
      </div>
    
    </div>
  </div>  

  

    <div class="pb-3" >
        <div class="card shadow">
            <div class="card-header bg-transparent">
                <div class="row align-items-center">
                  <div class="col">
                    <h6 class="text-uppercase text-muted ls-1 mb-1"></h6>
                    <h2 class="mb-0">Tabla de Controles de Racimos</h2>
                  </div>
                </div>
              </div>
              <div class="pl-4 pr-4">
              <table class="table align-items-center">
                  <thead class="thead-light">
                      <tr>
                          <th scope="col">
                            Dia
                          </th>
                          <th scope="col">
                            Racimos Deseados
                          </th>
                          <th scope="col">
                            Promedio
                          </th>                 
                          <th scope="col">
                            Rango MinMax
                          </th>
                          <th scope="col">
                            Rango MinMenos
                          </th>
                      </tr>
                  </thead>
                  <tbody class="list">
                        <tr *ngFor='let count of countsAll ' >                 
                          <td class="budget">
                            {{count[0].day+'-'+count[0].mon}}
                          </td>
                          <td class="budget">
                            {{count[0].deseado}}
                          </td>
                          <td class="budget">
                            {{(count[0].suma/count[0].contar) | number}}
                          </td>
                          <td class="budget">
                            {{(count[0].suma/count[0].contar) + (count[0].dev) | number}}
                          </td>                        
                          <td class="budget">
                            {{(count[0].suma/count[0].contar) - (count[0].dev) | number}}
                          </td>                        
                          
                        </tr>
                  </tbody>
             </table>
           </div>
        </div>      
    </div>
  <div class="row">
    <div class="col-xl-12 mb-5 mb-xl-0">
      <div class="card bg-transparent shadow">
        <div class="card-header bg-transparent">
          <div class="row align-items-center">
            <div class="col">
              <h6 class="text-uppercase text-light ls-1 mb-1"></h6>
              <h2 class="text-gray-dark mb-0">Controles de Recimos</h2>
            </div>
          </div>
        </div>
        <div class="card-body" style="padding-bottom:20px" >
          <!-- Chart -->
          <div class="chart">
            <!-- Chart wrapper -->
            <canvas id="chart-sales" class="chart-canvas"  ></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

 <div class="row">
      <div class="col-xl-12 mb-5 mb-xl-0">
        <div class="card bg-transparent shadow">
          <div class="card-header bg-transparent">
            <div class="row align-items-center">
              <div class="col">
                <h6 class="text-uppercase text-light ls-1 mb-1"></h6>
                <h2 class="text-gray-dark mb-0">Empleados por racimos</h2>
              </div>
            </div>
          </div>
          <div class="card-body" style="padding-bottom:20px" >
            
            <div class="chart">
              
              <canvas id="chart-salesemployee" class="chart-canvas"  ></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

  
</div>
